# 구현 계획 - 브로셀로나(Brocelona) 리그 대시보드 (Python Ver.)

이 계획은 파이썬(Python)을 활용하여 축구 리그 데이터를 분석하고, 모바일에서도 조회가 가능한 대시보드를 구축하는 단계를 설명합니다.

## 1. 프로젝트 목표 (Project Goal)
- 매주 갱신되는 경기 결과와 출석 데이터를 파이썬으로 분석.
- 모바일과 PC에서 모두 보기 편한 **웹 대시보드** 구축.
- 별도의 유료 서버 없이 GitHub와 연동하여 배포.

## 2. 기술 스택 (Technical Stack)
- **언어**: Python 3.9+
- **프레임워크**: **Streamlit** (파이썬 100%로 웹 대시보드 제작)
  - HTML/CSS/JS 없이 파이썬만으로 UI 구성 가능.
  - 반응형 디자인을 기본 지원하여 **모바일 친화적**.
- **데이터 처리**: Pandas (강력한 데이터 프레임 워크)
- **차트/시각화**: Plotly 또는 Altair (인터랙티브 그래프)
- **배포(Hosting)**: **Streamlit Cloud** (GitHub와 연동하여 무료 호스팅 가능)

## 3. 데이터 구조 (Data Structure)
### 입력 데이터 (TSV)
- `match_result_sample.tsv`: 주차, 라운드, 팀별 득점자 명단.
- `attendance_sample.tsv`: 팀, 선수, 주차별 출석 여부 (1주차~3주차).

### 처리 로직 (Logic)
- **승점 계산**: 
  - 승: **3점**
  - 무: **1점**
  - 패: **0점** (기존 1점 오류 수정)
- **득점 집계**: 쉼표(`,`)로 구분된 득점자 문자열을 파싱하여 개인별 득점 합산. "자살골" 등 특수한 경우 처리 로직 필요.
- **데이터 병합**: 주차별 데이터를 누적하여 트렌드(상승세/하락세) 분석.

## 4. 주요 지표 및 시각화 제안 (Metrics & Visuals)

### 1. 팀(Team) 레벨
- **종합 순위표**: 순위, 팀명, 승점, 득실차(Goal Difference), 승/무/패 기록.
- **주간 트렌드**: 주차별 "획득 승점" 추이 꺾은선 그래프 (어떤 팀이 상승세인지 파악).
- **공격력/수비력**: 총 득점(GF) 및 총 실점(GA) 비교 바 차트.

### 2. 선수(Player) 레벨
- **득점 랭킹 (Top 10)**: 개인 누적 득점 상위 10명.
- **출석왕 (Top 10)**: 누적 출석 횟수 상위 10명.
- **가성비 스트라이커 (Top 10)**: 경기 출석 주차 대비 득점률 (총 득점 / 출석 주차 수).
- **승점 요정 (Top 10)**: 출전 주차 대비 승점 획득률 (내가 출전했을 때 팀이 얻은 승점의 평균).
  - *계산식: (출전한 주차의 소속팀 획득 승점 합계) / (출전 주차 수)*


## 4. 작업 세부 단계 (Step-by-Step)

### 1단계: 프로젝트 설정 및 데이터 준비
- [ ] Python 가상환경 설정 및 필수 라이브러리 설치 (`streamlit`, `pandas`, `plotly`).
- [ ] 샘플 데이터 파일(`경기결과`, `출석`) 재생성 및 구조 확정.

### 2단계: 데이터 분석 모듈 개발 (Backend)
- [ ] `data_loader.py`: TSV 파일을 읽어 Pandas DataFrame으로 변환하는 함수.
- [ ] `processor.py`:
    - 경기 결과에서 승/무/패 판별 및 승점 계산.
    - 개인별 누적 득점, 출석률 계산 로직.

### 3단계: Streamlit 대시보드 구현 (Frontend)
- [ ] `app.py`: 메인 대시보드 화면 구성.
- [ ] **종합 순위 탭**: 팀별 순위표 (승점, 득실 등).
- [ ] **개인 기록 탭**: 득점왕 랭킹, 출석왕 랭킹.
- [ ] **트렌드 탭**: 주차별 팀 승점 변화 꺾은선 그래프.

### 4단계: 배포 및 테스트
- [ ] 로컬에서 `streamlit run app.py`로 테스트.
- [ ] GitHub에 코드 업로드 (`requirements.txt` 포함).
- [ ] Streamlit Cloud 연동하여 웹 배포 및 모바일 접속 테스트.

## 5. 질문사항 (To Discuss)
- 1단계 진행을 위해 샘플 데이터를 즉시 다시 생성할까요? (삭제된 파일 복구)
